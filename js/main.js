!function(t){"use strict";var s=function(s,e){if(this.el=t(s),this.options=t.extend({},t.fn.typed.defaults,e),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.options.david){this.strings=[];for(var i=0;i<this.options.david.length;i++)this.strings.push(this.options.david[i].string)}this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};s.prototype={constructor:s,init:function(){var t=this;t.timeout=setTimeout(function(){for(var s=0;s<t.strings.length;++s)t.sequence[s]=s;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var s=this;if(!0===this.showCursor&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var e=this.stringsElement.children();t.each(e,function(e,i){s.strings.push(t(i).html())})}this.init()},typewrite:function(t,s){if(!0!==this.stop){var e=Math.round(70*Math.random())+this.typeSpeed,i=this;i.options.david?i.backDelay=i.options.david[i.arrayPos].backDelay:i.backDelay=i.options.backDelay,i.backDelay||(i.backDelay=i.options.backDelay),i.timeout=setTimeout(function(){var e=0,o=t.substr(s);if("^"===o.charAt(0)){var r=1;/^\^\d+/.test(o)&&(r+=(o=/\d+/.exec(o)[0]).length,e=parseInt(o)),t=t.substring(0,s)+t.substring(s+r)}if("html"===i.contentType){var n=t.substr(s).charAt(0);if("<"===n||"&"===n){var a="";for(a="<"===n?">":";";t.substr(s+1).charAt(0)!==a&&(t.substr(s).charAt(0),!(++s+1>t.length)););s++,a}}i.timeout=setTimeout(function(){if(s===t.length){if(i.options.onStringTyped(i.arrayPos),i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,!1===i.loop||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(t,s)},i.backDelay)}else{0===s&&i.options.preStringTyped(i.arrayPos);var e=t.substr(0,s+1);i.attr?i.el.attr(i.attr,e):i.isInput?i.el.val(e):"html"===i.contentType?i.el.html(e):i.el.text(e),s++,i.typewrite(t,s)}},e)},e)}},backspace:function(t,s){if(!0!==this.stop){var e=Math.round(70*Math.random())+this.backSpeed,i=this;i.timeout=setTimeout(function(){if(i.options.david&&(i.stopNum=i.options.david[i.arrayPos].stopNum),"html"===i.contentType&&">"===t.substr(s).charAt(0)){for(;"<"!==t.substr(s-1).charAt(0)&&(t.substr(s).charAt(0),!(--s<0)););s--,"<"}var e=t.substr(0,s);i.attr?i.el.attr(i.attr,e):i.isInput?i.el.val(e):"html"===i.contentType?i.el.html(e):i.el.text(e),s>i.stopNum?(s--,i.backspace(t,s)):s<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],s))},e)}},shuffleArray:function(t){var s,e,i=t.length;if(i)for(;--i;)s=t[e=Math.floor(Math.random()*(i+1))],t[e]=t[i],t[i]=s;return t},reset:function(){clearInterval(this.timeout);this.el.attr("id");this.el.empty(),void 0!==this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(e){return this.each(function(){var i=t(this),o=i.data("typed"),r="object"==typeof e&&e;o&&o.reset(),i.data("typed",o=new s(this,r)),"string"==typeof e&&o[e]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!1,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}};var e=[{string:"Lexi",stopNum:0},{string:"a Student",stopNum:0},{string:"a Software Engineer",stopNum:0},{string:"a Full Stack Developer",stopNum:0},{string:"Lexi",stopNum:0}];setTimeout(function(){t(function(){t(".typed").typed({david:e,typeSpeed:70,backDelay:1e3,backSpeed:50,loop:!0,loopCount:1})})},1e3)}(window.jQuery),function(t){"use strict";var s=function(s,e){if(this.el=t(s),this.options=t.extend({},t.fn.typed.defaults,e),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.options.david){this.strings=[];for(var i=0;i<this.options.david.length;i++)this.strings.push(this.options.david[i].string)}this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};s.prototype={constructor:s,init:function(){var t=this;t.timeout=setTimeout(function(){for(var s=0;s<t.strings.length;++s)t.sequence[s]=s;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var s=this;if(!0===this.showCursor&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var e=this.stringsElement.children();t.each(e,function(e,i){s.strings.push(t(i).html())})}this.init()},typewrite:function(t,s){if(!0!==this.stop){var e=Math.round(70*Math.random())+this.typeSpeed,i=this;i.options.david?i.backDelay=i.options.david[i.arrayPos].backDelay:i.backDelay=i.options.backDelay,i.backDelay||(i.backDelay=i.options.backDelay),i.timeout=setTimeout(function(){var e=0,o=t.substr(s);if("^"===o.charAt(0)){var r=1;/^\^\d+/.test(o)&&(r+=(o=/\d+/.exec(o)[0]).length,e=parseInt(o)),t=t.substring(0,s)+t.substring(s+r)}if("html"===i.contentType){var n=t.substr(s).charAt(0);if("<"===n||"&"===n){var a="";for(a="<"===n?">":";";t.substr(s+1).charAt(0)!==a&&(t.substr(s).charAt(0),!(++s+1>t.length)););s++,a}}i.timeout=setTimeout(function(){if(s===t.length){if(i.options.onStringTyped(i.arrayPos),i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,!1===i.loop||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(t,s)},i.backDelay)}else{0===s&&i.options.preStringTyped(i.arrayPos);var e=t.substr(0,s+1);i.attr?i.el.attr(i.attr,e):i.isInput?i.el.val(e):"html"===i.contentType?i.el.html(e):i.el.text(e),s++,i.typewrite(t,s)}},e)},e)}},backspace:function(t,s){if(!0!==this.stop){var e=Math.round(70*Math.random())+this.backSpeed,i=this;i.timeout=setTimeout(function(){if(i.options.david&&(i.stopNum=i.options.david[i.arrayPos].stopNum),"html"===i.contentType&&">"===t.substr(s).charAt(0)){for(;"<"!==t.substr(s-1).charAt(0)&&(t.substr(s).charAt(0),!(--s<0)););s--,"<"}var e=t.substr(0,s);i.attr?i.el.attr(i.attr,e):i.isInput?i.el.val(e):"html"===i.contentType?i.el.html(e):i.el.text(e),s>i.stopNum?(s--,i.backspace(t,s)):s<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],s))},e)}},shuffleArray:function(t){var s,e,i=t.length;if(i)for(;--i;)s=t[e=Math.floor(Math.random()*(i+1))],t[e]=t[i],t[i]=s;return t},reset:function(){clearInterval(this.timeout);this.el.attr("id");this.el.empty(),void 0!==this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(e){return this.each(function(){var i=t(this),o=i.data("typed"),r="object"==typeof e&&e;o&&o.reset(),i.data("typed",o=new s(this,r)),"string"==typeof e&&o[e]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!1,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJ0eXBlZC5qcyJdLCJuYW1lcyI6WyIkIiwiVHlwZWQiLCJlbCIsIm9wdGlvbnMiLCJ0aGlzIiwiZXh0ZW5kIiwiZm4iLCJ0eXBlZCIsImRlZmF1bHRzIiwiaXNJbnB1dCIsImlzIiwiYXR0ciIsInNob3dDdXJzb3IiLCJlbENvbnRlbnQiLCJ0ZXh0IiwiY29udGVudFR5cGUiLCJ0eXBlU3BlZWQiLCJzdGFydERlbGF5IiwiYmFja1NwZWVkIiwiYmFja0RlbGF5Iiwic3RyaW5nc0VsZW1lbnQiLCJzdHJpbmdzIiwiZGF2aWQiLCJpIiwibGVuZ3RoIiwicHVzaCIsInN0cmluZyIsInN0clBvcyIsImFycmF5UG9zIiwic3RvcE51bSIsImxvb3AiLCJsb29wQ291bnQiLCJjdXJMb29wIiwic3RvcCIsImN1cnNvckNoYXIiLCJzaHVmZmxlIiwic2VxdWVuY2UiLCJidWlsZCIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwiaW5pdCIsInNlbGYiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInNodWZmbGVBcnJheSIsInR5cGV3cml0ZSIsImN1cnNvciIsImFmdGVyIiwiaGlkZSIsImNvbnNvbGUiLCJsb2ciLCJjaGlsZHJlbiIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsImh0bWwiLCJjdXJTdHJpbmciLCJjdXJTdHJQb3MiLCJodW1hbml6ZSIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImNoYXJQYXVzZSIsInN1YnN0ciIsImNoYXJBdCIsInNraXAiLCJ0ZXN0IiwiZXhlYyIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiY3VyQ2hhciIsImVuZFRhZyIsIm9uU3RyaW5nVHlwZWQiLCJjYWxsYmFjayIsImJhY2tzcGFjZSIsInByZVN0cmluZ1R5cGVkIiwibmV4dFN0cmluZyIsInZhbCIsImFycmF5IiwidG1wIiwiY3VycmVudCIsInRvcCIsImZsb29yIiwicmVzZXQiLCJjbGVhckludGVydmFsIiwiZW1wdHkiLCJyZW1vdmUiLCJyZXNldENhbGxiYWNrIiwib3B0aW9uIiwiJHRoaXMiLCJkYXRhIiwiY3VzdG9tVHlwZWRJbnB1dCIsIndpbmRvdyIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBeUJBLFNBQUFBLEdBRUEsYUFFQSxJQUFBQyxFQUFBLFNBQUFDLEVBQUFDLEdBc0NBLEdBbkNBQyxLQUFBRixHQUFBRixFQUFBRSxHQUdBRSxLQUFBRCxRQUFBSCxFQUFBSyxPQUFBLEdBQUFMLEVBQUFNLEdBQUFDLE1BQUFDLFNBQUFMLEdBR0FDLEtBQUFLLFFBQUFMLEtBQUFGLEdBQUFRLEdBQUEsU0FDQU4sS0FBQU8sS0FBQVAsS0FBQUQsUUFBQVEsS0FHQVAsS0FBQVEsWUFBQVIsS0FBQUssU0FBQUwsS0FBQUQsUUFBQVMsV0FHQVIsS0FBQVMsVUFBQVQsS0FBQU8sS0FBQVAsS0FBQUYsR0FBQVMsS0FBQVAsS0FBQU8sTUFBQVAsS0FBQUYsR0FBQVksT0FHQVYsS0FBQVcsWUFBQVgsS0FBQUQsUUFBQVksWUFHQVgsS0FBQVksVUFBQVosS0FBQUQsUUFBQWEsVUFHQVosS0FBQWEsV0FBQWIsS0FBQUQsUUFBQWMsV0FHQWIsS0FBQWMsVUFBQWQsS0FBQUQsUUFBQWUsVUFHQWQsS0FBQWUsVUFBQWYsS0FBQUQsUUFBQWdCLFVBR0FmLEtBQUFnQixlQUFBaEIsS0FBQUQsUUFBQWlCLGVBR0FoQixLQUFBaUIsUUFBQWpCLEtBQUFELFFBQUFrQixRQUNBakIsS0FBQUQsUUFBQW1CLE1BQUEsQ0FDQWxCLEtBQUFpQixRQUFBLEdBQ0EsSUFBQSxJQUFBRSxFQUFBLEVBQUFBLEVBQUFuQixLQUFBRCxRQUFBbUIsTUFBQUUsT0FBQUQsSUFDQW5CLEtBQUFpQixRQUFBSSxLQUFBckIsS0FBQUQsUUFBQW1CLE1BQUFDLEdBQUFHLFFBS0F0QixLQUFBdUIsT0FBQSxFQUdBdkIsS0FBQXdCLFNBQUEsRUFLQXhCLEtBQUF5QixRQUFBLEVBR0F6QixLQUFBMEIsS0FBQTFCLEtBQUFELFFBQUEyQixLQUNBMUIsS0FBQTJCLFVBQUEzQixLQUFBRCxRQUFBNEIsVUFDQTNCLEtBQUE0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U0FDQXRDLEtBQUFGLEdBQUFTLEtBQUEsTUFDQVAsS0FBQUYsR0FBQW1GLGFBQ0EsSUFBQWpGLEtBQUEwQyxRQUNBMUMsS0FBQTBDLE9BQUF3QyxTQUVBbEYsS0FBQXVCLE9BQUEsRUFDQXZCLEtBQUF3QixTQUFBLEVBQ0F4QixLQUFBNEIsUUFBQSxFQUVBNUIsS0FBQUQsUUFBQW9GLGtCQUtBdkYsRUFBQU0sR0FBQUMsTUFBQSxTQUFBaUYsR0FDQSxPQUFBcEYsS0FBQWdELEtBQUEsV0FDQSxJQUFBcUMsRUFBQXpGLEVBQUFJLE1BQ0FzRixFQUFBRCxFQUFBQyxLQUFBLFNBQ0F2RixFQUFBLGlCQUFBcUYsR0FBQUEsRUFDQUUsR0FDQUEsRUFBQVAsUUFFQU0sRUFBQUMsS0FBQSxRQUFBQSxFQUFBLElBQUF6RixFQUFBRyxLQUFBRCxJQUNBLGlCQUFBcUYsR0FBQUUsRUFBQUYsUUFJQXhGLEVBQUFNLEdBQUFDLE1BQUFDLFNBQUEsQ0FDQWEsUUFBQSxDQUFBLGtDQUFBLCtCQUFBLGdCQUFBLHFCQUNBRCxlQUFBLEtBRUFKLFVBQUEsRUFFQUMsV0FBQSxFQUVBQyxVQUFBLEVBRUFpQixTQUFBLEVBRUFoQixVQUFBLElBRUFXLE1BQUEsRUFFQUMsV0FBQSxFQUVBbkIsWUFBQSxFQUVBc0IsV0FBQSxJQUVBdkIsS0FBQSxLQUVBSSxZQUFBLE9BRUEwRCxTQUFBLGFBRUFFLGVBQUEsYUFFQUgsY0FBQSxhQUVBZSxjQUFBLGNBM2JBLENBK2JBSyxPQUFBQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbi8vIFR5cGVkLmpzIHwgQ29weXJpZ2h0IChjKSAyMDE2IE1hdHQgQm9sZHQgfCB3d3cubWF0dGJvbGR0LmNvbVxuXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG5cblxuXG5cbiEgZnVuY3Rpb24oJCkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgVHlwZWQgPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8vIGNob3NlbiBlbGVtZW50IHRvIG1hbmlwdWxhdGUgdGV4dFxuICAgICAgICB0aGlzLmVsID0gJChlbCk7XG5cbiAgICAgICAgLy8gb3B0aW9uc1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi50eXBlZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYXR0cmlidXRlIHRvIHR5cGUgaW50b1xuICAgICAgICB0aGlzLmlzSW5wdXQgPSB0aGlzLmVsLmlzKCdpbnB1dCcpO1xuICAgICAgICB0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0cjtcblxuICAgICAgICAvLyBzaG93IGN1cnNvclxuICAgICAgICB0aGlzLnNob3dDdXJzb3IgPSB0aGlzLmlzSW5wdXQgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zaG93Q3Vyc29yO1xuXG4gICAgICAgIC8vIHRleHQgY29udGVudCBvZiBlbGVtZW50XG4gICAgICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5hdHRyID8gdGhpcy5lbC5hdHRyKHRoaXMuYXR0cikgOiB0aGlzLmVsLnRleHQoKTtcblxuICAgICAgICAvLyBodG1sIG9yIHBsYWluIHRleHRcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZTtcblxuICAgICAgICAvLyB0eXBpbmcgc3BlZWRcbiAgICAgICAgdGhpcy50eXBlU3BlZWQgPSB0aGlzLm9wdGlvbnMudHlwZVNwZWVkO1xuXG4gICAgICAgIC8vIGFkZCBhIGRlbGF5IGJlZm9yZSB0eXBpbmcgc3RhcnRzXG4gICAgICAgIHRoaXMuc3RhcnREZWxheSA9IHRoaXMub3B0aW9ucy5zdGFydERlbGF5O1xuXG4gICAgICAgIC8vIGJhY2tzcGFjaW5nIHNwZWVkXG4gICAgICAgIHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZDtcblxuICAgICAgICAvLyBhbW91bnQgb2YgdGltZSB0byB3YWl0IGJlZm9yZSBiYWNrc3BhY2luZ1xuICAgICAgICB0aGlzLmJhY2tEZWxheSA9IHRoaXMub3B0aW9ucy5iYWNrRGVsYXk7XG5cbiAgICAgICAgLy8gZGl2IGNvbnRhaW5pbmcgc3RyaW5nc1xuICAgICAgICB0aGlzLnN0cmluZ3NFbGVtZW50ID0gdGhpcy5vcHRpb25zLnN0cmluZ3NFbGVtZW50O1xuXG4gICAgICAgIC8vIGlucHV0IHN0cmluZ3Mgb2YgdGV4dFxuICAgICAgICB0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncztcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXZpZCkge1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5kYXZpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5ncy5wdXNoKHRoaXMub3B0aW9ucy5kYXZpZFtpXS5zdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hhcmFjdGVyIG51bWJlciBwb3NpdGlvbiBvZiBjdXJyZW50IHN0cmluZ1xuICAgICAgICB0aGlzLnN0clBvcyA9IDA7XG5cbiAgICAgICAgLy8gY3VycmVudCBhcnJheSBwb3NpdGlvblxuICAgICAgICB0aGlzLmFycmF5UG9zID0gMDtcblxuICAgICAgICAvLyBudW1iZXIgdG8gc3RvcCBiYWNrc3BhY2luZyBvbi5cbiAgICAgICAgLy8gZGVmYXVsdCAwLCBjYW4gY2hhbmdlIGRlcGVuZGluZyBvbiBob3cgbWFueSBjaGFyc1xuICAgICAgICAvLyB5b3Ugd2FudCB0byByZW1vdmUgYXQgdGhlIHRpbWVcbiAgICAgICAgdGhpcy5zdG9wTnVtID0gMDtcblxuICAgICAgICAvLyBMb29waW5nIGxvZ2ljXG4gICAgICAgIHRoaXMubG9vcCA9IHRoaXMub3B0aW9ucy5sb29wO1xuICAgICAgICB0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQ7XG4gICAgICAgIHRoaXMuY3VyTG9vcCA9IDA7XG5cbiAgICAgICAgLy8gZm9yIHN0b3BwaW5nXG4gICAgICAgIHRoaXMuc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGN1c3RvbSBjdXJzb3JcbiAgICAgICAgdGhpcy5jdXJzb3JDaGFyID0gdGhpcy5vcHRpb25zLmN1cnNvckNoYXI7XG5cbiAgICAgICAgLy8gc2h1ZmZsZSB0aGUgc3RyaW5nc1xuICAgICAgICB0aGlzLnNodWZmbGUgPSB0aGlzLm9wdGlvbnMuc2h1ZmZsZTtcbiAgICAgICAgLy8gdGhlIG9yZGVyIG9mIHN0cmluZ3NcbiAgICAgICAgdGhpcy5zZXF1ZW5jZSA9IFtdO1xuXG4gICAgICAgIC8vIEFsbCBzeXN0ZW1zIGdvIVxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfTtcblxuICAgIFR5cGVkLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBjb25zdHJ1Y3RvcjogVHlwZWQsXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBiZWdpbiB0aGUgbG9vcCB3LyBmaXJzdCBjdXJyZW50IHN0cmluZyAoZ2xvYmFsIHNlbGYuc3RyaW5ncylcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgc3RyaW5nIHdpbGwgYmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGVhY2ggdGltZSBhZnRlciB0aGlzXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5zdHJpbmdzLmxlbmd0aDsgKytpKSBzZWxmLnNlcXVlbmNlW2ldID0gaTtcblxuICAgICAgICAgICAgICAgIC8vIHNodWZmbGUgdGhlIGFycmF5IGlmIHRydWVcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zaHVmZmxlKSBzZWxmLnNlcXVlbmNlID0gc2VsZi5zaHVmZmxlQXJyYXkoc2VsZi5zZXF1ZW5jZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydCB0eXBpbmdcbiAgICAgICAgICAgICAgICBzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIHNlbGYuc3RyUG9zKTtcbiAgICAgICAgICAgIH0sIHNlbGYuc3RhcnREZWxheSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgLy8gSW5zZXJ0IGN1cnNvclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0N1cnNvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJChcIjxzcGFuIGNsYXNzPVxcXCJ0eXBlZC1jdXJzb3JcXFwiPlwiICsgdGhpcy5jdXJzb3JDaGFyICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuYWZ0ZXIodGhpcy5jdXJzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ3NFbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzRWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICQuZWFjaChzdHJpbmdzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RyaW5ncy5wdXNoKCQodmFsdWUpLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBwYXNzIGN1cnJlbnQgc3RyaW5nIHN0YXRlIHRvIGVhY2ggZnVuY3Rpb24sIHR5cGVzIDEgY2hhciBwZXIgY2FsbFxuICAgICAgICB0eXBld3JpdGU6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG4gICAgICAgICAgICAvLyBleGl0IHdoZW4gc3RvcHBlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdmFyeWluZyB2YWx1ZXMgZm9yIHNldFRpbWVvdXQgZHVyaW5nIHR5cGluZ1xuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgZ2xvYmFsIHNpbmNlIG51bWJlciBjaGFuZ2VzIGVhY2ggdGltZSBsb29wIGlzIGV4ZWN1dGVkXG4gICAgICAgICAgICB2YXIgaHVtYW5pemUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gMzApKSArIHRoaXMudHlwZVNwZWVkO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIG9wdGlvbmFsIC0tLS0tLS0tLS0tLS0gLy9cbiAgICAgICAgICAgIC8vIGJhY2twYWNlcyBhIGNlcnRhaW4gc3RyaW5nIGZhc3RlclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgICAgICAgICAvLyBpZiAoc2VsZi5hcnJheVBvcyA9PSAxKXtcbiAgICAgICAgICAgIC8vICBzZWxmLmJhY2tEZWxheSA9IDUwO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZXsgc2VsZi5iYWNrRGVsYXkgPSA1MDA7IH1cbiAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMuZGF2aWQpXG4gICAgICAgICAgICAgICAgc2VsZi5iYWNrRGVsYXkgPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uYmFja0RlbGF5O1xuICAgICAgICAgICAgLy8gaWYgKHNlbGYuYXJyYXlQb3MgPT0gMTEgfHwgc2VsZi5hcnJheVBvcyA9PSA1KVxuICAgICAgICAgICAgLy8gICAgIHNlbGYuYmFja0RlbGF5ID0gNTA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VsZi5iYWNrRGVsYXkgPSBzZWxmLm9wdGlvbnMuYmFja0RlbGF5O1xuXG4gICAgICAgICAgICBpZiAoIXNlbGYuYmFja0RlbGF5KVxuICAgICAgICAgICAgICAgIHNlbGYuYmFja0RlbGF5ID0gc2VsZi5vcHRpb25zLmJhY2tEZWxheTtcblxuICAgICAgICAgICAgLy8gY29udGFpbiB0eXBpbmcgZnVuY3Rpb24gaW4gYSB0aW1lb3V0IGh1bWFuaXplJ2QgZGVsYXlcbiAgICAgICAgICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGFuIGVzY2FwZSBjaGFyYWN0ZXIgYmVmb3JlIGEgcGF1c2UgdmFsdWVcbiAgICAgICAgICAgICAgICAvLyBmb3JtYXQ6IFxcXlxcZCsgLi4gZWc6IF4xMDAwIC4uIHNob3VsZCBiZSBhYmxlIHRvIHByaW50IHRoZSBeIHRvbyB1c2luZyBeXlxuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBeIGFyZSByZW1vdmVkIGZyb20gc3RyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJQYXVzZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHN1YnN0ciA9IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic3RyLmNoYXJBdCgwKSA9PT0gJ14nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBza2lwID0gMTsgLy8gc2tpcCBhdGxlYXN0IDFcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eXFxeXFxkKy8udGVzdChzdWJzdHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzdHIgPSAvXFxkKy8uZXhlYyhzdWJzdHIpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcCArPSBzdWJzdHIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhclBhdXNlID0gcGFyc2VJbnQoc3Vic3RyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmlwIG91dCB0aGUgZXNjYXBlIGNoYXJhY3RlciBhbmQgcGF1c2UgdmFsdWUgc28gdGhleSdyZSBub3QgcHJpbnRlZFxuICAgICAgICAgICAgICAgICAgICBjdXJTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyaW5nKDAsIGN1clN0clBvcykgKyBjdXJTdHJpbmcuc3Vic3RyaW5nKGN1clN0clBvcyArIHNraXApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBvdmVyIGh0bWwgdGFncyB3aGlsZSB0eXBpbmdcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJDaGFyID09PSAnPCcgfHwgY3VyQ2hhciA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVGFnID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyQ2hhciA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGFnID0gJz4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRhZyA9ICc7J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zICsgMSkuY2hhckF0KDApICE9PSBlbmRUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTdHJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU3RyUG9zICsgMSA+IGN1clN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gZW5kVGFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdGltZW91dCBmb3IgYW55IHBhdXNlIGFmdGVyIGEgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clN0clBvcyA9PT0gY3VyU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyZXMgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3B0aW9ucy5vblN0cmluZ1R5cGVkKHNlbGYuYXJyYXlQb3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIHRoZSBmaW5hbCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFycmF5UG9zID09PSBzZWxmLnN0cmluZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGlvbiB0aGF0IG9jY3VycyBvbiB0aGUgbGFzdCB0eXBlZCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMuY2FsbGJhY2soKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyTG9vcCsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVpdCBpZiB3ZSB3b250IGxvb3AgYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmxvb3AgPT09IGZhbHNlIHx8IHNlbGYuY3VyTG9vcCA9PT0gc2VsZi5sb29wQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBzZWxmLmJhY2tEZWxheSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyogY2FsbCBiZWZvcmUgZnVuY3Rpb25zIGlmIGFwcGxpY2FibGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHJQb3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoc2VsZi5hcnJheVBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHR5cGluZyBlYWNoIG5ldyBjaGFyIGludG8gZXhpc3Rpbmcgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJTdHJpbmc6IGFyZywgc2VsZi5lbC5odG1sOiBvcmlnaW5hbCB0ZXh0IGluc2lkZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5hdHRyKHNlbGYuYXR0ciwgbmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC52YWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5odG1sKG5leHRTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBjaGFyYWN0ZXJzIG9uZSBieSBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clN0clBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHlwZXdyaXRlKGN1clN0cmluZywgY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBlbmQgb2YgY2hhcmFjdGVyIHBhdXNlXG4gICAgICAgICAgICAgICAgfSwgY2hhclBhdXNlKTtcblxuICAgICAgICAgICAgICAgIC8vIGh1bWFuaXplZCB2YWx1ZSBmb3IgdHlwaW5nXG4gICAgICAgICAgICB9LCBodW1hbml6ZSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBiYWNrc3BhY2U6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG4gICAgICAgICAgICAvLyBleGl0IHdoZW4gc3RvcHBlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdmFyeWluZyB2YWx1ZXMgZm9yIHNldFRpbWVvdXQgZHVyaW5nIHR5cGluZ1xuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgZ2xvYmFsIHNpbmNlIG51bWJlciBjaGFuZ2VzIGVhY2ggdGltZSBsb29wIGlzIGV4ZWN1dGVkXG4gICAgICAgICAgICB2YXIgaHVtYW5pemUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gMzApKSArIHRoaXMuYmFja1NwZWVkO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0gdGhpcyBwYXJ0IGlzIG9wdGlvbmFsIC0tLS0tIC8vXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgc3RyaW5nIGFycmF5IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IHN0cmluZywgb25seSBkZWxldGUgb25lIHdvcmRcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3RvcE51bSBhY3R1YWxseSByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgY2hhcnMgdG9cbiAgICAgICAgICAgICAgICAvLyBrZWVwIGluIHRoZSBjdXJyZW50IHN0cmluZy4gSW4gbXkgY2FzZSBpdCdzIDE0LlxuICAgICAgICAgICAgICAgIC8vIGlmIChzZWxmLmFycmF5UG9zID09IDEpe1xuICAgICAgICAgICAgICAgIC8vICBzZWxmLnN0b3BOdW0gPSAxNDtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy8gLy9ldmVyeSBvdGhlciB0aW1lLCBkZWxldGUgdGhlIHdob2xlIHR5cGVkIHN0cmluZ1xuICAgICAgICAgICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICBzZWxmLnN0b3BOdW0gPSAwO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyBpZiAoc2VsZi5hcnJheVBvcyA8IDIpXG4gICAgICAgICAgICAgICAgLy8gICAgIHNlbGYuc3RvcE51bSA9IDExO1xuICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgKHNlbGYuYXJyYXlQb3MgPT0gMylcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gMjQ7XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoc2VsZi5hcnJheVBvcyA9PSAxMSlcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gMjA7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHNlbGYub3B0aW9ucy5kYXZpZFtzZWxmLmFycmF5UG9zXS5zdG9tTnVtID4gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICBzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvbU51bTtcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2VcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gNTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmRhdmlkKVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvcE51bVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvcE51bSlcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2VsZi5zdG9wTnVtKVxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIG92ZXIgaHRtbCB0YWdzIHdoaWxlIGJhY2tzcGFjaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyAtIDEpLmNoYXJBdCgwKSAhPT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnIC09IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clN0clBvcyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gJzwnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0gY29udGludWUgaW1wb3J0YW50IHN0dWZmIC0tLS0tIC8vXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0ZXh0IHdpdGggYmFzZSB0ZXh0ICsgdHlwZWQgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RyaW5nID0gY3VyU3RyaW5nLnN1YnN0cigwLCBjdXJTdHJQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmF0dHIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5hdHRyKHNlbGYuYXR0ciwgbmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC52YWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsLnRleHQobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIChpZCBvZiBjaGFyYWN0ZXIgaW4gY3VycmVudCBzdHJpbmcpIGlzXG4gICAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIHRoZSBzdG9wIG51bWJlciwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICAgIGlmIChjdXJTdHJQb3MgPiBzZWxmLnN0b3BOdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VidHJhY3QgY2hhcmFjdGVycyBvbmUgYnkgb25lXG4gICAgICAgICAgICAgICAgICAgIGN1clN0clBvcy0tO1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdG9wIG51bWJlciBoYXMgYmVlbiByZWFjaGVkLCBpbmNyZWFzZVxuICAgICAgICAgICAgICAgIC8vIGFycmF5IHBvc2l0aW9uIHRvIG5leHQgc3RyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyU3RyUG9zIDw9IHNlbGYuc3RvcE51bSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFycmF5UG9zKys7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJyYXlQb3MgPT09IHNlbGYuc3RyaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXJyYXlQb3MgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaHVmZmxlIHNlcXVlbmNlIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5zaHVmZmxlKSBzZWxmLnNlcXVlbmNlID0gc2VsZi5zaHVmZmxlQXJyYXkoc2VsZi5zZXF1ZW5jZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHlwZXdyaXRlKHNlbGYuc3RyaW5nc1tzZWxmLnNlcXVlbmNlW3NlbGYuYXJyYXlQb3NdXSwgY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBodW1hbml6ZWQgdmFsdWUgZm9yIHR5cGluZ1xuICAgICAgICAgICAgfSwgaHVtYW5pemUpO1xuXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaHVmZmxlcyB0aGUgbnVtYmVycyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHNodWZmbGVBcnJheTogZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIHZhciB0bXAsIGN1cnJlbnQsIHRvcCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b3ApXG4gICAgICAgICAgICAgICAgd2hpbGUgKC0tdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodG9wICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSBhcnJheVtjdXJyZW50XTtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbY3VycmVudF0gPSBhcnJheVt0b3BdO1xuICAgICAgICAgICAgICAgICAgICBhcnJheVt0b3BdID0gdG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBTdGFydCAmIFN0b3AgY3VycmVudGx5IG5vdCB3b3JraW5nXG5cbiAgICAgICAgLy8gLCBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyAgICAgc2VsZi5zdG9wID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vICwgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyAgICAgaWYoc2VsZi5zdG9wID09PSBmYWxzZSlcbiAgICAgICAgLy8gICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyAgICAgdGhpcy5zdG9wID0gZmFsc2U7XG4gICAgICAgIC8vICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIFJlc2V0IGFuZCByZWJ1aWxkIHRoZSBlbGVtZW50XG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuZWwuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHRoaXMuZWwuZW1wdHkoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJzb3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0clBvcyA9IDA7XG4gICAgICAgICAgICB0aGlzLmFycmF5UG9zID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3VyTG9vcCA9IDA7XG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgICQuZm4udHlwZWQgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ3R5cGVkJyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCd0eXBlZCcsIChkYXRhID0gbmV3IFR5cGVkKHRoaXMsIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkLmZuLnR5cGVkLmRlZmF1bHRzID0ge1xuICAgICAgICBzdHJpbmdzOiBbXCJUaGVzZSBhcmUgdGhlIGRlZmF1bHQgdmFsdWVzLi4uXCIsIFwiWW91IGtub3cgd2hhdCB5b3Ugc2hvdWxkIGRvP1wiLCBcIlVzZSB5b3VyIG93biFcIiwgXCJIYXZlIGEgZ3JlYXQgZGF5IVwiXSxcbiAgICAgICAgc3RyaW5nc0VsZW1lbnQ6IG51bGwsXG4gICAgICAgIC8vIHR5cGluZyBzcGVlZFxuICAgICAgICB0eXBlU3BlZWQ6IDAsXG4gICAgICAgIC8vIHRpbWUgYmVmb3JlIHR5cGluZyBzdGFydHNcbiAgICAgICAgc3RhcnREZWxheTogMCxcbiAgICAgICAgLy8gYmFja3NwYWNpbmcgc3BlZWRcbiAgICAgICAgYmFja1NwZWVkOiAwLFxuICAgICAgICAvLyBzaHVmZmxlIHRoZSBzdHJpbmdzXG4gICAgICAgIHNodWZmbGU6IGZhbHNlLFxuICAgICAgICAvLyB0aW1lIGJlZm9yZSBiYWNrc3BhY2luZ1xuICAgICAgICBiYWNrRGVsYXk6IDUwMCxcbiAgICAgICAgLy8gbG9vcFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgLy8gZmFsc2UgPSBpbmZpbml0ZVxuICAgICAgICBsb29wQ291bnQ6IGZhbHNlLFxuICAgICAgICAvLyBzaG93IGN1cnNvclxuICAgICAgICBzaG93Q3Vyc29yOiBmYWxzZSxcbiAgICAgICAgLy8gY2hhcmFjdGVyIGZvciBjdXJzb3JcbiAgICAgICAgY3Vyc29yQ2hhcjogXCJ8XCIsXG4gICAgICAgIC8vIGF0dHJpYnV0ZSB0byB0eXBlIChudWxsID09IHRleHQpXG4gICAgICAgIGF0dHI6IG51bGwsXG4gICAgICAgIC8vIGVpdGhlciBodG1sIG9yIHRleHRcbiAgICAgICAgY29udGVudFR5cGU6ICdodG1sJyxcbiAgICAgICAgLy8gY2FsbCB3aGVuIGRvbmUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIC8vIHN0YXJ0aW5nIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSBlYWNoIHN0cmluZ1xuICAgICAgICBwcmVTdHJpbmdUeXBlZDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgLy9jYWxsYmFjayBmb3IgZXZlcnkgdHlwZWQgc3RyaW5nXG4gICAgICAgIG9uU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIC8vIGNhbGxiYWNrIGZvciByZXNldFxuICAgICAgICByZXNldENhbGxiYWNrOiBmdW5jdGlvbigpIHt9XG4gICAgfTtcblxuXG5cdHZhciBjdXN0b21UeXBlZElucHV0ID0gW3tcblx0XHRzdHJpbmc6IFwiTGV4aVwiLFxuXHRcdHN0b3BOdW06IDBcblx0fSwge1xuXHRcdHN0cmluZzogXCJhIFN0dWRlbnRcIixcblx0XHRzdG9wTnVtOiAwXG5cdH0sIHtcblx0XHRzdHJpbmc6IFwiYSBTb2Z0d2FyZSBFbmdpbmVlclwiLFxuXHRcdHN0b3BOdW06IDBcblx0fSwge1xuXHRcdHN0cmluZzogXCJhIEZ1bGwgU3RhY2sgRGV2ZWxvcGVyXCIsXG5cdFx0c3RvcE51bTogMFxuXHR9LCB7XG5cdFx0c3RyaW5nOiBcIkxleGlcIixcblx0XHRzdG9wTnVtOiAwXG5cdH1dO1xuXHRcblx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHQkKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChcIi50eXBlZFwiKS50eXBlZCh7XG5cdFx0XHRcdGRhdmlkOiBjdXN0b21UeXBlZElucHV0LFxuXHRcdFx0XHR0eXBlU3BlZWQ6IDcwLFxuXHRcdFx0XHRiYWNrRGVsYXk6IDEwMDAsXG5cdFx0XHRcdGJhY2tTcGVlZDogNTAsXG5cdFx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRcdGxvb3BDb3VudDogMVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sIDEwMDApO1xuXG59KHdpbmRvdy5qUXVlcnkpO1xuIiwiLy8gVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbi8vIFR5cGVkLmpzIHwgQ29weXJpZ2h0IChjKSAyMDE2IE1hdHQgQm9sZHQgfCB3d3cubWF0dGJvbGR0LmNvbVxuXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG5cblxuXG5cbiEgZnVuY3Rpb24oJCkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgVHlwZWQgPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8vIGNob3NlbiBlbGVtZW50IHRvIG1hbmlwdWxhdGUgdGV4dFxuICAgICAgICB0aGlzLmVsID0gJChlbCk7XG5cbiAgICAgICAgLy8gb3B0aW9uc1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi50eXBlZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYXR0cmlidXRlIHRvIHR5cGUgaW50b1xuICAgICAgICB0aGlzLmlzSW5wdXQgPSB0aGlzLmVsLmlzKCdpbnB1dCcpO1xuICAgICAgICB0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0cjtcblxuICAgICAgICAvLyBzaG93IGN1cnNvclxuICAgICAgICB0aGlzLnNob3dDdXJzb3IgPSB0aGlzLmlzSW5wdXQgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zaG93Q3Vyc29yO1xuXG4gICAgICAgIC8vIHRleHQgY29udGVudCBvZiBlbGVtZW50XG4gICAgICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5hdHRyID8gdGhpcy5lbC5hdHRyKHRoaXMuYXR0cikgOiB0aGlzLmVsLnRleHQoKTtcblxuICAgICAgICAvLyBodG1sIG9yIHBsYWluIHRleHRcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZTtcblxuICAgICAgICAvLyB0eXBpbmcgc3BlZWRcbiAgICAgICAgdGhpcy50eXBlU3BlZWQgPSB0aGlzLm9wdGlvbnMudHlwZVNwZWVkO1xuXG4gICAgICAgIC8vIGFkZCBhIGRlbGF5IGJlZm9yZSB0eXBpbmcgc3RhcnRzXG4gICAgICAgIHRoaXMuc3RhcnREZWxheSA9IHRoaXMub3B0aW9ucy5zdGFydERlbGF5O1xuXG4gICAgICAgIC8vIGJhY2tzcGFjaW5nIHNwZWVkXG4gICAgICAgIHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZDtcblxuICAgICAgICAvLyBhbW91bnQgb2YgdGltZSB0byB3YWl0IGJlZm9yZSBiYWNrc3BhY2luZ1xuICAgICAgICB0aGlzLmJhY2tEZWxheSA9IHRoaXMub3B0aW9ucy5iYWNrRGVsYXk7XG5cbiAgICAgICAgLy8gZGl2IGNvbnRhaW5pbmcgc3RyaW5nc1xuICAgICAgICB0aGlzLnN0cmluZ3NFbGVtZW50ID0gdGhpcy5vcHRpb25zLnN0cmluZ3NFbGVtZW50O1xuXG4gICAgICAgIC8vIGlucHV0IHN0cmluZ3Mgb2YgdGV4dFxuICAgICAgICB0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncztcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXZpZCkge1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5kYXZpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5ncy5wdXNoKHRoaXMub3B0aW9ucy5kYXZpZFtpXS5zdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hhcmFjdGVyIG51bWJlciBwb3NpdGlvbiBvZiBjdXJyZW50IHN0cmluZ1xuICAgICAgICB0aGlzLnN0clBvcyA9IDA7XG5cbiAgICAgICAgLy8gY3VycmVudCBhcnJheSBwb3NpdGlvblxuICAgICAgICB0aGlzLmFycmF5UG9zID0gMDtcblxuICAgICAgICAvLyBudW1iZXIgdG8gc3RvcCBiYWNrc3BhY2luZyBvbi5cbiAgICAgICAgLy8gZGVmYXVsdCAwLCBjYW4gY2hhbmdlIGRlcGVuZGluZyBvbiBob3cgbWFueSBjaGFyc1xuICAgICAgICAvLyB5b3Ugd2FudCB0byByZW1vdmUgYXQgdGhlIHRpbWVcbiAgICAgICAgdGhpcy5zdG9wTnVtID0gMDtcblxuICAgICAgICAvLyBMb29waW5nIGxvZ2ljXG4gICAgICAgIHRoaXMubG9vcCA9IHRoaXMub3B0aW9ucy5sb29wO1xuICAgICAgICB0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQ7XG4gICAgICAgIHRoaXMuY3VyTG9vcCA9IDA7XG5cbiAgICAgICAgLy8gZm9yIHN0b3BwaW5nXG4gICAgICAgIHRoaXMuc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGN1c3RvbSBjdXJzb3JcbiAgICAgICAgdGhpcy5jdXJzb3JDaGFyID0gdGhpcy5vcHRpb25zLmN1cnNvckNoYXI7XG5cbiAgICAgICAgLy8gc2h1ZmZsZSB0aGUgc3RyaW5nc1xuICAgICAgICB0aGlzLnNodWZmbGUgPSB0aGlzLm9wdGlvbnMuc2h1ZmZsZTtcbiAgICAgICAgLy8gdGhlIG9yZGVyIG9mIHN0cmluZ3NcbiAgICAgICAgdGhpcy5zZXF1ZW5jZSA9IFtdO1xuXG4gICAgICAgIC8vIEFsbCBzeXN0ZW1zIGdvIVxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfTtcblxuICAgIFR5cGVkLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBjb25zdHJ1Y3RvcjogVHlwZWQsXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBiZWdpbiB0aGUgbG9vcCB3LyBmaXJzdCBjdXJyZW50IHN0cmluZyAoZ2xvYmFsIHNlbGYuc3RyaW5ncylcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgc3RyaW5nIHdpbGwgYmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGVhY2ggdGltZSBhZnRlciB0aGlzXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5zdHJpbmdzLmxlbmd0aDsgKytpKSBzZWxmLnNlcXVlbmNlW2ldID0gaTtcblxuICAgICAgICAgICAgICAgIC8vIHNodWZmbGUgdGhlIGFycmF5IGlmIHRydWVcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zaHVmZmxlKSBzZWxmLnNlcXVlbmNlID0gc2VsZi5zaHVmZmxlQXJyYXkoc2VsZi5zZXF1ZW5jZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydCB0eXBpbmdcbiAgICAgICAgICAgICAgICBzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIHNlbGYuc3RyUG9zKTtcbiAgICAgICAgICAgIH0sIHNlbGYuc3RhcnREZWxheSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgLy8gSW5zZXJ0IGN1cnNvclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0N1cnNvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJChcIjxzcGFuIGNsYXNzPVxcXCJ0eXBlZC1jdXJzb3JcXFwiPlwiICsgdGhpcy5jdXJzb3JDaGFyICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuYWZ0ZXIodGhpcy5jdXJzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ3NFbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzRWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICQuZWFjaChzdHJpbmdzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RyaW5ncy5wdXNoKCQodmFsdWUpLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBwYXNzIGN1cnJlbnQgc3RyaW5nIHN0YXRlIHRvIGVhY2ggZnVuY3Rpb24sIHR5cGVzIDEgY2hhciBwZXIgY2FsbFxuICAgICAgICB0eXBld3JpdGU6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG4gICAgICAgICAgICAvLyBleGl0IHdoZW4gc3RvcHBlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdmFyeWluZyB2YWx1ZXMgZm9yIHNldFRpbWVvdXQgZHVyaW5nIHR5cGluZ1xuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgZ2xvYmFsIHNpbmNlIG51bWJlciBjaGFuZ2VzIGVhY2ggdGltZSBsb29wIGlzIGV4ZWN1dGVkXG4gICAgICAgICAgICB2YXIgaHVtYW5pemUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gMzApKSArIHRoaXMudHlwZVNwZWVkO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIG9wdGlvbmFsIC0tLS0tLS0tLS0tLS0gLy9cbiAgICAgICAgICAgIC8vIGJhY2twYWNlcyBhIGNlcnRhaW4gc3RyaW5nIGZhc3RlclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgICAgICAgICAvLyBpZiAoc2VsZi5hcnJheVBvcyA9PSAxKXtcbiAgICAgICAgICAgIC8vICBzZWxmLmJhY2tEZWxheSA9IDUwO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZXsgc2VsZi5iYWNrRGVsYXkgPSA1MDA7IH1cbiAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMuZGF2aWQpXG4gICAgICAgICAgICAgICAgc2VsZi5iYWNrRGVsYXkgPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uYmFja0RlbGF5O1xuICAgICAgICAgICAgLy8gaWYgKHNlbGYuYXJyYXlQb3MgPT0gMTEgfHwgc2VsZi5hcnJheVBvcyA9PSA1KVxuICAgICAgICAgICAgLy8gICAgIHNlbGYuYmFja0RlbGF5ID0gNTA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VsZi5iYWNrRGVsYXkgPSBzZWxmLm9wdGlvbnMuYmFja0RlbGF5O1xuXG4gICAgICAgICAgICBpZiAoIXNlbGYuYmFja0RlbGF5KVxuICAgICAgICAgICAgICAgIHNlbGYuYmFja0RlbGF5ID0gc2VsZi5vcHRpb25zLmJhY2tEZWxheTtcblxuICAgICAgICAgICAgLy8gY29udGFpbiB0eXBpbmcgZnVuY3Rpb24gaW4gYSB0aW1lb3V0IGh1bWFuaXplJ2QgZGVsYXlcbiAgICAgICAgICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGFuIGVzY2FwZSBjaGFyYWN0ZXIgYmVmb3JlIGEgcGF1c2UgdmFsdWVcbiAgICAgICAgICAgICAgICAvLyBmb3JtYXQ6IFxcXlxcZCsgLi4gZWc6IF4xMDAwIC4uIHNob3VsZCBiZSBhYmxlIHRvIHByaW50IHRoZSBeIHRvbyB1c2luZyBeXlxuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBeIGFyZSByZW1vdmVkIGZyb20gc3RyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJQYXVzZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHN1YnN0ciA9IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic3RyLmNoYXJBdCgwKSA9PT0gJ14nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBza2lwID0gMTsgLy8gc2tpcCBhdGxlYXN0IDFcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eXFxeXFxkKy8udGVzdChzdWJzdHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzdHIgPSAvXFxkKy8uZXhlYyhzdWJzdHIpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcCArPSBzdWJzdHIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhclBhdXNlID0gcGFyc2VJbnQoc3Vic3RyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmlwIG91dCB0aGUgZXNjYXBlIGNoYXJhY3RlciBhbmQgcGF1c2UgdmFsdWUgc28gdGhleSdyZSBub3QgcHJpbnRlZFxuICAgICAgICAgICAgICAgICAgICBjdXJTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyaW5nKDAsIGN1clN0clBvcykgKyBjdXJTdHJpbmcuc3Vic3RyaW5nKGN1clN0clBvcyArIHNraXApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBvdmVyIGh0bWwgdGFncyB3aGlsZSB0eXBpbmdcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJDaGFyID09PSAnPCcgfHwgY3VyQ2hhciA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVGFnID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyQ2hhciA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGFnID0gJz4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRhZyA9ICc7J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zICsgMSkuY2hhckF0KDApICE9PSBlbmRUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTdHJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU3RyUG9zICsgMSA+IGN1clN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gZW5kVGFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdGltZW91dCBmb3IgYW55IHBhdXNlIGFmdGVyIGEgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clN0clBvcyA9PT0gY3VyU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyZXMgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3B0aW9ucy5vblN0cmluZ1R5cGVkKHNlbGYuYXJyYXlQb3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIHRoZSBmaW5hbCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFycmF5UG9zID09PSBzZWxmLnN0cmluZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGlvbiB0aGF0IG9jY3VycyBvbiB0aGUgbGFzdCB0eXBlZCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMuY2FsbGJhY2soKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyTG9vcCsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVpdCBpZiB3ZSB3b250IGxvb3AgYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmxvb3AgPT09IGZhbHNlIHx8IHNlbGYuY3VyTG9vcCA9PT0gc2VsZi5sb29wQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBzZWxmLmJhY2tEZWxheSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyogY2FsbCBiZWZvcmUgZnVuY3Rpb25zIGlmIGFwcGxpY2FibGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHJQb3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoc2VsZi5hcnJheVBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHR5cGluZyBlYWNoIG5ldyBjaGFyIGludG8gZXhpc3Rpbmcgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJTdHJpbmc6IGFyZywgc2VsZi5lbC5odG1sOiBvcmlnaW5hbCB0ZXh0IGluc2lkZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5hdHRyKHNlbGYuYXR0ciwgbmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC52YWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5odG1sKG5leHRTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBjaGFyYWN0ZXJzIG9uZSBieSBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clN0clBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHlwZXdyaXRlKGN1clN0cmluZywgY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBlbmQgb2YgY2hhcmFjdGVyIHBhdXNlXG4gICAgICAgICAgICAgICAgfSwgY2hhclBhdXNlKTtcblxuICAgICAgICAgICAgICAgIC8vIGh1bWFuaXplZCB2YWx1ZSBmb3IgdHlwaW5nXG4gICAgICAgICAgICB9LCBodW1hbml6ZSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBiYWNrc3BhY2U6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG4gICAgICAgICAgICAvLyBleGl0IHdoZW4gc3RvcHBlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdmFyeWluZyB2YWx1ZXMgZm9yIHNldFRpbWVvdXQgZHVyaW5nIHR5cGluZ1xuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgZ2xvYmFsIHNpbmNlIG51bWJlciBjaGFuZ2VzIGVhY2ggdGltZSBsb29wIGlzIGV4ZWN1dGVkXG4gICAgICAgICAgICB2YXIgaHVtYW5pemUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gMzApKSArIHRoaXMuYmFja1NwZWVkO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0gdGhpcyBwYXJ0IGlzIG9wdGlvbmFsIC0tLS0tIC8vXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgc3RyaW5nIGFycmF5IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IHN0cmluZywgb25seSBkZWxldGUgb25lIHdvcmRcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3RvcE51bSBhY3R1YWxseSByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgY2hhcnMgdG9cbiAgICAgICAgICAgICAgICAvLyBrZWVwIGluIHRoZSBjdXJyZW50IHN0cmluZy4gSW4gbXkgY2FzZSBpdCdzIDE0LlxuICAgICAgICAgICAgICAgIC8vIGlmIChzZWxmLmFycmF5UG9zID09IDEpe1xuICAgICAgICAgICAgICAgIC8vICBzZWxmLnN0b3BOdW0gPSAxNDtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy8gLy9ldmVyeSBvdGhlciB0aW1lLCBkZWxldGUgdGhlIHdob2xlIHR5cGVkIHN0cmluZ1xuICAgICAgICAgICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICBzZWxmLnN0b3BOdW0gPSAwO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyBpZiAoc2VsZi5hcnJheVBvcyA8IDIpXG4gICAgICAgICAgICAgICAgLy8gICAgIHNlbGYuc3RvcE51bSA9IDExO1xuICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgKHNlbGYuYXJyYXlQb3MgPT0gMylcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gMjQ7XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoc2VsZi5hcnJheVBvcyA9PSAxMSlcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gMjA7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHNlbGYub3B0aW9ucy5kYXZpZFtzZWxmLmFycmF5UG9zXS5zdG9tTnVtID4gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICBzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvbU51bTtcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2VcbiAgICAgICAgICAgICAgICAvLyAgICAgc2VsZi5zdG9wTnVtID0gNTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmRhdmlkKVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvcE51bVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWxmLnN0b3BOdW0gPSBzZWxmLm9wdGlvbnMuZGF2aWRbc2VsZi5hcnJheVBvc10uc3RvcE51bSlcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2VsZi5zdG9wTnVtKVxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIG92ZXIgaHRtbCB0YWdzIHdoaWxlIGJhY2tzcGFjaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyAtIDEpLmNoYXJBdCgwKSAhPT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnIC09IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clN0clBvcyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3RyUG9zLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgKz0gJzwnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0gY29udGludWUgaW1wb3J0YW50IHN0dWZmIC0tLS0tIC8vXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0ZXh0IHdpdGggYmFzZSB0ZXh0ICsgdHlwZWQgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RyaW5nID0gY3VyU3RyaW5nLnN1YnN0cigwLCBjdXJTdHJQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmF0dHIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC5hdHRyKHNlbGYuYXR0ciwgbmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbC52YWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsLnRleHQobmV4dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIChpZCBvZiBjaGFyYWN0ZXIgaW4gY3VycmVudCBzdHJpbmcpIGlzXG4gICAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIHRoZSBzdG9wIG51bWJlciwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICAgIGlmIChjdXJTdHJQb3MgPiBzZWxmLnN0b3BOdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VidHJhY3QgY2hhcmFjdGVycyBvbmUgYnkgb25lXG4gICAgICAgICAgICAgICAgICAgIGN1clN0clBvcy0tO1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdG9wIG51bWJlciBoYXMgYmVlbiByZWFjaGVkLCBpbmNyZWFzZVxuICAgICAgICAgICAgICAgIC8vIGFycmF5IHBvc2l0aW9uIHRvIG5leHQgc3RyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyU3RyUG9zIDw9IHNlbGYuc3RvcE51bSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFycmF5UG9zKys7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJyYXlQb3MgPT09IHNlbGYuc3RyaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXJyYXlQb3MgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaHVmZmxlIHNlcXVlbmNlIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5zaHVmZmxlKSBzZWxmLnNlcXVlbmNlID0gc2VsZi5zaHVmZmxlQXJyYXkoc2VsZi5zZXF1ZW5jZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHlwZXdyaXRlKHNlbGYuc3RyaW5nc1tzZWxmLnNlcXVlbmNlW3NlbGYuYXJyYXlQb3NdXSwgY3VyU3RyUG9zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBodW1hbml6ZWQgdmFsdWUgZm9yIHR5cGluZ1xuICAgICAgICAgICAgfSwgaHVtYW5pemUpO1xuXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaHVmZmxlcyB0aGUgbnVtYmVycyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHNodWZmbGVBcnJheTogZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIHZhciB0bXAsIGN1cnJlbnQsIHRvcCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b3ApXG4gICAgICAgICAgICAgICAgd2hpbGUgKC0tdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodG9wICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSBhcnJheVtjdXJyZW50XTtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbY3VycmVudF0gPSBhcnJheVt0b3BdO1xuICAgICAgICAgICAgICAgICAgICBhcnJheVt0b3BdID0gdG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBTdGFydCAmIFN0b3AgY3VycmVudGx5IG5vdCB3b3JraW5nXG5cbiAgICAgICAgLy8gLCBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyAgICAgc2VsZi5zdG9wID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vICwgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyAgICAgaWYoc2VsZi5zdG9wID09PSBmYWxzZSlcbiAgICAgICAgLy8gICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyAgICAgdGhpcy5zdG9wID0gZmFsc2U7XG4gICAgICAgIC8vICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIFJlc2V0IGFuZCByZWJ1aWxkIHRoZSBlbGVtZW50XG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuZWwuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHRoaXMuZWwuZW1wdHkoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJzb3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0clBvcyA9IDA7XG4gICAgICAgICAgICB0aGlzLmFycmF5UG9zID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3VyTG9vcCA9IDA7XG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgICQuZm4udHlwZWQgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ3R5cGVkJyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCd0eXBlZCcsIChkYXRhID0gbmV3IFR5cGVkKHRoaXMsIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkLmZuLnR5cGVkLmRlZmF1bHRzID0ge1xuICAgICAgICBzdHJpbmdzOiBbXCJUaGVzZSBhcmUgdGhlIGRlZmF1bHQgdmFsdWVzLi4uXCIsIFwiWW91IGtub3cgd2hhdCB5b3Ugc2hvdWxkIGRvP1wiLCBcIlVzZSB5b3VyIG93biFcIiwgXCJIYXZlIGEgZ3JlYXQgZGF5IVwiXSxcbiAgICAgICAgc3RyaW5nc0VsZW1lbnQ6IG51bGwsXG4gICAgICAgIC8vIHR5cGluZyBzcGVlZFxuICAgICAgICB0eXBlU3BlZWQ6IDAsXG4gICAgICAgIC8vIHRpbWUgYmVmb3JlIHR5cGluZyBzdGFydHNcbiAgICAgICAgc3RhcnREZWxheTogMCxcbiAgICAgICAgLy8gYmFja3NwYWNpbmcgc3BlZWRcbiAgICAgICAgYmFja1NwZWVkOiAwLFxuICAgICAgICAvLyBzaHVmZmxlIHRoZSBzdHJpbmdzXG4gICAgICAgIHNodWZmbGU6IGZhbHNlLFxuICAgICAgICAvLyB0aW1lIGJlZm9yZSBiYWNrc3BhY2luZ1xuICAgICAgICBiYWNrRGVsYXk6IDUwMCxcbiAgICAgICAgLy8gbG9vcFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgLy8gZmFsc2UgPSBpbmZpbml0ZVxuICAgICAgICBsb29wQ291bnQ6IGZhbHNlLFxuICAgICAgICAvLyBzaG93IGN1cnNvclxuICAgICAgICBzaG93Q3Vyc29yOiBmYWxzZSxcbiAgICAgICAgLy8gY2hhcmFjdGVyIGZvciBjdXJzb3JcbiAgICAgICAgY3Vyc29yQ2hhcjogXCJ8XCIsXG4gICAgICAgIC8vIGF0dHJpYnV0ZSB0byB0eXBlIChudWxsID09IHRleHQpXG4gICAgICAgIGF0dHI6IG51bGwsXG4gICAgICAgIC8vIGVpdGhlciBodG1sIG9yIHRleHRcbiAgICAgICAgY29udGVudFR5cGU6ICdodG1sJyxcbiAgICAgICAgLy8gY2FsbCB3aGVuIGRvbmUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIC8vIHN0YXJ0aW5nIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSBlYWNoIHN0cmluZ1xuICAgICAgICBwcmVTdHJpbmdUeXBlZDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgLy9jYWxsYmFjayBmb3IgZXZlcnkgdHlwZWQgc3RyaW5nXG4gICAgICAgIG9uU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIC8vIGNhbGxiYWNrIGZvciByZXNldFxuICAgICAgICByZXNldENhbGxiYWNrOiBmdW5jdGlvbigpIHt9XG4gICAgfTtcblxuXG59KHdpbmRvdy5qUXVlcnkpOyJdfQ==
